{"code":"(this.webpackJsonpdiagnal=this.webpackJsonpdiagnal||[]).push([[4],{104:function(e,t,a){e.exports={root:\"MovieCard_root__2bcf8\",cardArea:\"MovieCard_cardArea__1J9BP\",actionsContainer:\"MovieCard_actionsContainer__1dvYF\",poster:\"MovieCard_poster__2Q8RD\",overText:\"MovieCard_overText__1Feuh\"}},108:function(e,t,a){e.exports={root:\"Home_root__1JBnY\",searchBox:\"Home_searchBox__2CTQr\",movieListContainer:\"Home_movieListContainer__3kbho\",errorMessageContainer:\"Home_errorMessageContainer__2diO7\"}},126:function(e,t,a){\"use strict\";a.r(t);var n=a(113),r=a(114),c=a(0),o=a(108),s=a.n(o),i=a(109),h=a.n(i),u=a(111),d=function(e){return\"\".concat(e)};function l(e,t,a){e.hasOwnProperty(t)&&(e[a]=e[t],delete e[t])}var j={get:function(){var e=Object(u.a)(h.a.mark((function e(t,a){var n,r,c;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch(\"\".concat(d(t+a)),{method:\"GET\",cache:\"no-cache\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"}}).then((function(e){return e.json()}));case 3:return n=e.sent,(r=n.page[\"content-items\"].content).forEach((function(e){l(e,\"poster-image\",\"Poster\")})),c={contentItems:r,totalContent:n.page[\"total-content-items\"]},e.abrupt(\"return\",c);case 10:throw e.prev=10,e.t0=e.catch(0),e.t0;case 13:case\"end\":return e.stop()}}),e,null,[[0,10]])})));return function(t,a){return e.apply(this,arguments)}}(),post:function(){var e=Object(u.a)(h.a.mark((function e(t,a){var n;return h.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(d(t),{method:\"POST\",cache:\"no-cache\",headers:{\"Content-Type\":\"application/x-www-form-urlencoded\"},body:JSON.stringify(a)});case 2:return n=e.sent,e.abrupt(\"return\",n.json());case 4:case\"end\":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},m={BASE_URL:\"https://test.create.diagnal.com/\"},x=a(127),p=a(104),v=a.n(p),f=a(119),b=a(120),g=a(122),O=a(121),_=a(3),w=function(e){var t=e.name,a=\"https://test.create.diagnal.com/images/\"+e.Poster;return Object(_.jsx)(f.a,{className:v.a.root,children:Object(_.jsxs)(b.a,{className:v.a.cardArea,children:[Object(_.jsx)(O.a,{component:\"img\",alt:t,height:\"400\",image:a,title:t,className:v.a.poster}),Object(_.jsx)(g.a,{className:v.a.overText,children:Object(_.jsx)(\"p\",{children:t})})]})})},C=a(123),N=a(124),P=function(){return Object(_.jsxs)(f.a,{className:v.a.root,children:[Object(_.jsxs)(b.a,{children:[Object(_.jsx)(C.a,{animation:\"wave\",variant:\"rect\",width:\"100%\",height:400}),Object(_.jsx)(g.a,{className:v.a.overText,children:Object(_.jsx)(C.a,{animation:\"wave\",variant:\"text\",width:\"80%\",height:40})})]}),Object(_.jsxs)(N.a,{className:v.a.actionsContainer,children:[Object(_.jsx)(C.a,{animation:\"wave\",variant:\"text\",width:100,height:40}),Object(_.jsx)(C.a,{animation:\"wave\",variant:\"circle\",width:40,height:40})]})]})},y=a(125),M=a(112);t.default=function(){var e=Object(c.useState)(0),t=Object(r.a)(e,2),a=t[0],o=t[1],i=Object(x.a)(\"movies\",(function(e){var t=e.pageParam,a=void 0===t?1:t;return j.get(m.BASE_URL,\"data/page\".concat(a,\".json\"))}),{getNextPageParam:function(e,t){return+e.totalContent>20*a?a+1:null},onSuccess:function(){o(a+1)}}),h=i.data,u=i.error,d=i.fetchNextPage,l=i.hasNextPage,p=i.isSuccess,v=i.isLoading,f=(i.refetch,i.remove,(null===h||void 0===h?void 0:h.pages.flatMap((function(e){return e.contentItems})))||[]),b=function(e){return Object(_.jsx)(y.a,{container:!0,spacing:2,children:Object(n.a)(new Array(e)).map((function(e,t){return Object(_.jsx)(y.a,{item:!0,xs:12,md:3,sm:4,lg:12,xl:12,children:Object(_.jsx)(P,{})},t)}))})};return Object(_.jsx)(\"div\",{className:s.a.root,children:Object(_.jsx)(y.a,{container:!0,justify:\"center\",children:Object(_.jsx)(y.a,{item:!0,xs:12,sm:10,children:Object(_.jsxs)(y.a,{item:!0,xs:12,className:s.a.movieListContainer,children:[v&&b(8),p&&(h?Object(_.jsx)(M.a,{dataLength:f.length,next:d,hasMore:l||!1,loader:b(4),style:{overflow:\"hidden\"},children:Object(_.jsx)(y.a,{container:!0,spacing:2,children:f.map((function(e){var t=e.name,a=e.Poster;return Object(_.jsx)(y.a,{item:!0,xs:4,md:3,sm:4,xl:6,lg:3,children:Object(_.jsx)(w,{name:t,Poster:a})})}))})}):\"No Result\"),!!u&&Object(_.jsx)(\"div\",{className:s.a.errorMessageContainer,children:JSON.stringify(u)})]})})})})}}}]);","name":"static/js/4.8f01ae6f.chunk.js","map":{"version":3,"sources":["static/js/4.8f01ae6f.chunk.js"],"names":["this","push","104","module","exports","__webpack_require__","root","cardArea","actionsContainer","poster","overText","108","searchBox","movieListContainer","errorMessageContainer","126","__webpack_exports__","r","toConsumableArray","slicedToArray","react","index_module","index_module_default","n","regenerator","regenerator_default","asyncToGenerator","getBaseURL","url","concat","renameKey","obj","oldKey","newKey","hasOwnProperty","utils_service","get","_get","Object","a","mark","_callee","params","response","contentItems","wrap","_context","prev","next","fetch","method","cache","headers","Content-Type","then","res","json","sent","page","content","forEach","item","totalContent","abrupt","t0","stop","_x","_x2","apply","arguments","post","_post","_callee2","data","_context2","body","JSON","stringify","_x3","_x4","constants","BASE_URL","useInfiniteQuery","MovieCard_index_module","MovieCard_index_module_default","Card","CardActionArea","CardContent","CardMedia","jsx_runtime","components_MovieCard","_ref","name","imgUrl","Poster","className","children","component","alt","height","image","title","Skeleton_Skeleton","CardActions","MovieCard_Skeleton","animation","variant","width","Grid","index_es","_useState","_useState2","currentPage","setCurrentPage","_useInfiniteQuery","_ref$pageParam","pageParam","getNextPageParam","lastPage","pages","onSuccess","error","fetchNextPage","hasNextPage","isSuccess","isLoading","allItems","refetch","remove","flatMap","MoviesLoader","itemCount","container","spacing","Array","map","_","i","xs","md","sm","lg","xl","justify","dataLength","length","hasMore","loader","style","overflow","_ref2"],"mappings":"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"},"input":"(this[\"webpackJsonpdiagnal\"] = this[\"webpackJsonpdiagnal\"] || []).push([[4],{\n\n/***/ 104:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MovieCard_root__2bcf8\",\"cardArea\":\"MovieCard_cardArea__1J9BP\",\"actionsContainer\":\"MovieCard_actionsContainer__1dvYF\",\"poster\":\"MovieCard_poster__2Q8RD\",\"overText\":\"MovieCard_overText__1Feuh\"};\n\n/***/ }),\n\n/***/ 108:\n/***/ (function(module, exports, __webpack_require__) {\n\n// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Home_root__1JBnY\",\"searchBox\":\"Home_searchBox__2CTQr\",\"movieListContainer\":\"Home_movieListContainer__3kbho\",\"errorMessageContainer\":\"Home_errorMessageContainer__2diO7\"};\n\n/***/ }),\n\n/***/ 126:\n/***/ (function(module, __webpack_exports__, __webpack_require__) {\n\n\"use strict\";\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/toConsumableArray.js + 3 modules\nvar toConsumableArray = __webpack_require__(113);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/slicedToArray.js + 3 modules\nvar slicedToArray = __webpack_require__(114);\n\n// EXTERNAL MODULE: ./node_modules/react/index.js\nvar react = __webpack_require__(0);\n\n// EXTERNAL MODULE: ./src/pages/Home/index.module.css\nvar index_module = __webpack_require__(108);\nvar index_module_default = /*#__PURE__*/__webpack_require__.n(index_module);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/regenerator/index.js\nvar regenerator = __webpack_require__(109);\nvar regenerator_default = /*#__PURE__*/__webpack_require__.n(regenerator);\n\n// EXTERNAL MODULE: ./node_modules/babel-preset-react-app/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\nvar asyncToGenerator = __webpack_require__(111);\n\n// CONCATENATED MODULE: ./src/utils/service.ts\n/**\n * Generate base URL including OMDB required params\n * @param {string} url\n * @returns {string}\n */var getBaseURL=function getBaseURL(url){return\"\".concat(url);};// Function to rename a key in an object\nfunction renameKey(obj,oldKey,newKey){if(obj.hasOwnProperty(oldKey)){obj[newKey]=obj[oldKey];delete obj[oldKey];}}/**\n * Service object exported to use across application\n */var service={get:function(){var _get=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee(url,params){var response,contentItems,obj;return regenerator_default.a.wrap(function _callee$(_context){while(1){switch(_context.prev=_context.next){case 0:_context.prev=0;_context.next=3;return fetch(\"\".concat(getBaseURL(url+params)),{method:\"GET\",cache:\"no-cache\",// *default, no-cache, reload, force-cache, only-if-cached\nheaders:{\"Content-Type\":\"application/x-www-form-urlencoded\"// application/x-www-form-urlencoded, application/json\n}}).then(function(res){return res.json();});case 3:response=_context.sent;// if (!response.page.title) {\n//   throw Error(response.Error);\n// } else {\ncontentItems=response.page[\"content-items\"].content;contentItems.forEach(function(item){renameKey(item,\"poster-image\",\"Poster\");});obj={contentItems:contentItems,\"totalContent\":response.page[\"total-content-items\"]};return _context.abrupt(\"return\",obj);case 10:_context.prev=10;_context.t0=_context[\"catch\"](0);throw _context.t0;case 13:case\"end\":return _context.stop();}}},_callee,null,[[0,10]]);}));function get(_x,_x2){return _get.apply(this,arguments);}return get;}(),post:function(){var _post=Object(asyncToGenerator[\"a\" /* default */])(/*#__PURE__*/regenerator_default.a.mark(function _callee2(url,data){var response;return regenerator_default.a.wrap(function _callee2$(_context2){while(1){switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetch(getBaseURL(url),{method:\"POST\",cache:\"no-cache\",// *default, no-cache, reload, force-cache, only-if-cached\nheaders:{\"Content-Type\":\"application/x-www-form-urlencoded\"// application/x-www-form-urlencoded, application/json\n},body:JSON.stringify(data)});case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.json());case 4:case\"end\":return _context2.stop();}}},_callee2);}));function post(_x3,_x4){return _post.apply(this,arguments);}return post;}()};/* harmony default export */ var utils_service = (service);\n// CONCATENATED MODULE: ./src/utils/constants.ts\nvar CONSTANTS={BASE_URL:\"https://test.create.diagnal.com/\"};/* harmony default export */ var constants = (CONSTANTS);\n// EXTERNAL MODULE: ./node_modules/react-query/es/react/useInfiniteQuery.js + 4 modules\nvar useInfiniteQuery = __webpack_require__(127);\n\n// EXTERNAL MODULE: ./src/components/MovieCard/index.module.css\nvar MovieCard_index_module = __webpack_require__(104);\nvar MovieCard_index_module_default = /*#__PURE__*/__webpack_require__.n(MovieCard_index_module);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Card/Card.js\nvar Card = __webpack_require__(119);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardActionArea/CardActionArea.js\nvar CardActionArea = __webpack_require__(120);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardContent/CardContent.js\nvar CardContent = __webpack_require__(122);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardMedia/CardMedia.js\nvar CardMedia = __webpack_require__(121);\n\n// EXTERNAL MODULE: ./node_modules/react/jsx-runtime.js\nvar jsx_runtime = __webpack_require__(3);\n\n// CONCATENATED MODULE: ./src/components/MovieCard/index.tsx\nvar MovieCard_MovieCard=function MovieCard(_ref){var name=_ref.name,Poster=_ref.Poster;var imgUrl=\"https://test.create.diagnal.com/images/\"+Poster;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Card[\"a\" /* default */],{className:MovieCard_index_module_default.a.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardActionArea[\"a\" /* default */],{className:MovieCard_index_module_default.a.cardArea,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardMedia[\"a\" /* default */],{component:\"img\",alt:name,height:\"400\",image:imgUrl,title:name,className:MovieCard_index_module_default.a.poster}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardContent[\"a\" /* default */],{className:MovieCard_index_module_default.a.overText,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"p\",{children:name})})]})});};/* harmony default export */ var components_MovieCard = (MovieCard_MovieCard);\n// EXTERNAL MODULE: ./node_modules/@material-ui/lab/esm/Skeleton/Skeleton.js\nvar Skeleton_Skeleton = __webpack_require__(123);\n\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/CardActions/CardActions.js\nvar CardActions = __webpack_require__(124);\n\n// CONCATENATED MODULE: ./src/components/MovieCard/Skeleton.tsx\nvar MovieCard_Skeleton_Skeleton=function Skeleton(){return/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Card[\"a\" /* default */],{className:MovieCard_index_module_default.a.root,children:[/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardActionArea[\"a\" /* default */],{children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Skeleton_Skeleton[\"a\" /* default */],{animation:\"wave\",variant:\"rect\",width:\"100%\",height:400}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(CardContent[\"a\" /* default */],{className:MovieCard_index_module_default.a.overText,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Skeleton_Skeleton[\"a\" /* default */],{animation:\"wave\",variant:\"text\",width:\"80%\",height:40})})]}),/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(CardActions[\"a\" /* default */],{className:MovieCard_index_module_default.a.actionsContainer,children:[/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Skeleton_Skeleton[\"a\" /* default */],{animation:\"wave\",variant:\"text\",width:100,height:40}),/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Skeleton_Skeleton[\"a\" /* default */],{animation:\"wave\",variant:\"circle\",width:40,height:40})]})]});};/* harmony default export */ var MovieCard_Skeleton = (MovieCard_Skeleton_Skeleton);\n// EXTERNAL MODULE: ./node_modules/@material-ui/core/esm/Grid/Grid.js\nvar Grid = __webpack_require__(125);\n\n// EXTERNAL MODULE: ./node_modules/react-infinite-scroll-component/dist/index.es.js\nvar index_es = __webpack_require__(112);\n\n// CONCATENATED MODULE: ./src/pages/Home/index.tsx\nvar Home_Home=function Home(){var _useState=Object(react[\"useState\"])(0),_useState2=Object(slicedToArray[\"a\" /* default */])(_useState,2),currentPage=_useState2[0],setCurrentPage=_useState2[1];var fetchMovies=function fetchMovies(_ref){var _ref$pageParam=_ref.pageParam,pageParam=_ref$pageParam===void 0?1:_ref$pageParam;return utils_service.get(constants.BASE_URL,\"data/page\".concat(pageParam,\".json\"));};var _useInfiniteQuery=Object(useInfiniteQuery[\"a\" /* useInfiniteQuery */])(\"movies\",fetchMovies,{getNextPageParam:function getNextPageParam(lastPage,pages){return+lastPage.totalContent>currentPage*20?currentPage+1:null;},onSuccess:function onSuccess(){setCurrentPage(currentPage+1);}}),data=_useInfiniteQuery.data,error=_useInfiniteQuery.error,fetchNextPage=_useInfiniteQuery.fetchNextPage,hasNextPage=_useInfiniteQuery.hasNextPage,isSuccess=_useInfiniteQuery.isSuccess,isLoading=_useInfiniteQuery.isLoading,refetch=_useInfiniteQuery.refetch,remove=_useInfiniteQuery.remove;var allItems=(data===null||data===void 0?void 0:data.pages.flatMap(function(page){return page.contentItems;}))||[];var MoviesLoader=function MoviesLoader(itemCount){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,spacing:2,children:Object(toConsumableArray[\"a\" /* default */])(new Array(itemCount)).map(function(_,i){return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,md:3,sm:4,lg:12,xl:12,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(MovieCard_Skeleton,{})},i);})});};return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:index_module_default.a.root,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,justify:\"center\",children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:12,sm:10,children:/*#__PURE__*/Object(jsx_runtime[\"jsxs\"])(Grid[\"a\" /* default */],{item:true,xs:12,className:index_module_default.a.movieListContainer,children:[isLoading&&MoviesLoader(8),isSuccess&&(!!data?/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(index_es[\"a\" /* default */],{dataLength:allItems.length,next:fetchNextPage,hasMore:hasNextPage||false,loader:MoviesLoader(4),style:{overflow:\"hidden\"},children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{container:true,spacing:2,children:allItems.map(function(_ref2){var name=_ref2.name,Poster=_ref2.Poster;return/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(Grid[\"a\" /* default */],{item:true,xs:4,md:3,sm:4,xl:6,lg:3,children:/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(components_MovieCard,{name:name,Poster:Poster})});})})}):\"No Result\"),!!error&&/*#__PURE__*/Object(jsx_runtime[\"jsx\"])(\"div\",{className:index_module_default.a.errorMessageContainer,children:JSON.stringify(error)})]})})})});};/* harmony default export */ var pages_Home = __webpack_exports__[\"default\"] = (Home_Home);\n\n/***/ })\n\n}]);","inputSourceMap":{"version":3,"sources":["D:\\ReactWorkShop\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\ReactWorkShop\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\ReactWorkShop\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\ReactWorkShop\\src\\components\\MovieCard\\index.module.css","D:\\ReactWorkShop\\node_modules\\mini-css-extract-plugin\\dist\\loader.js??ref--5-oneOf-5-0!D:\\ReactWorkShop\\node_modules\\css-loader\\dist\\cjs.js??ref--5-oneOf-5-1!D:\\ReactWorkShop\\node_modules\\postcss-loader\\src\\index.js??postcss!D:\\ReactWorkShop\\src\\pages\\Home\\index.module.css","D:/ReactWorkShop/src/utils/service.ts","D:/ReactWorkShop/src/utils/constants.ts","D:/ReactWorkShop/src/components/MovieCard/index.tsx","D:/ReactWorkShop/src/components/MovieCard/Skeleton.tsx","D:/ReactWorkShop/src/pages/Home/index.tsx"],"names":["getBaseURL","url","renameKey","obj","oldKey","newKey","hasOwnProperty","service","get","params","fetch","method","cache","headers","then","res","json","response","contentItems","page","content","forEach","item","post","data","body","JSON","stringify","CONSTANTS","BASE_URL","MovieCard","name","Poster","imgUrl","styles","root","cardArea","poster","overText","Skeleton","actionsContainer","Home","useState","currentPage","setCurrentPage","fetchMovies","pageParam","useInfiniteQuery","getNextPageParam","lastPage","pages","totalContent","onSuccess","error","fetchNextPage","hasNextPage","isSuccess","isLoading","refetch","remove","allItems","flatMap","MoviesLoader","itemCount","Array","map","_","i","movieListContainer","length","overflow","errorMessageContainer"],"mappings":"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","file":"x","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"MovieCard_root__2bcf8\",\"cardArea\":\"MovieCard_cardArea__1J9BP\",\"actionsContainer\":\"MovieCard_actionsContainer__1dvYF\",\"poster\":\"MovieCard_poster__2Q8RD\",\"overText\":\"MovieCard_overText__1Feuh\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"root\":\"Home_root__1JBnY\",\"searchBox\":\"Home_searchBox__2CTQr\",\"movieListContainer\":\"Home_movieListContainer__3kbho\",\"errorMessageContainer\":\"Home_errorMessageContainer__2diO7\"};","\n/**\n * Generate base URL including OMDB required params\n * @param {string} url\n * @returns {string}\n */\nconst getBaseURL = (url: string): string => {\n  return `${url}`;\n};\n// Function to rename a key in an object\nfunction renameKey(obj: any, oldKey: any, newKey: any) {\n  if (obj.hasOwnProperty(oldKey)) {\n    obj[newKey] = obj[oldKey];\n    delete obj[oldKey];\n  }\n}\n/**\n * Service object exported to use across application\n */\nconst service = {\n  get: async (url: string, params: string) => {\n    try {\n      let response = await fetch(\n        `${getBaseURL(url + params)}`,\n        {\n          method: \"GET\",\n          cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\", // application/x-www-form-urlencoded, application/json\n          },\n        }\n      ).then((res) => res.json());\n\n      // if (!response.page.title) {\n      //   throw Error(response.Error);\n      // } else {\n        const contentItems = response.page[\"content-items\"].content;\n        contentItems.forEach((item:any) => {\n          renameKey(item, \"poster-image\", \"Poster\");\n        });\n        let obj ={\n          contentItems,\n          \"totalContent\":response.page[\"total-content-items\"]\n        }        \n        return obj;\n      // }\n    } catch (error) {\n      throw error;\n    }\n  },\n  post: async (url: string, data: object) => {\n    const response = await fetch(getBaseURL(url), {\n      method: \"POST\",\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\", // application/x-www-form-urlencoded, application/json\n      },\n      body: JSON.stringify(data),\n    });\n    return response.json(); // parses JSON response into native JavaScript objects\n  },\n};\n\nexport default service;\n","const CONSTANTS = {\n  BASE_URL: \"https://test.create.diagnal.com/\",\n};\n\nexport default CONSTANTS;\n","import styles from \"./index.module.css\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardContent from \"@material-ui/core/CardContent\";\nimport CardMedia from \"@material-ui/core/CardMedia\";\nexport type MovieCardProps = {\n  name: string;\n  Poster: string;\n};\nconst MovieCard =({ name,Poster }: MovieCardProps) => {\n  let imgUrl=\"https://test.create.diagnal.com/images/\"+Poster\n  return (\n    <Card className={styles.root}>\n      <CardActionArea className={styles.cardArea}>\n        <CardMedia\n          component=\"img\"\n          alt={name}\n          height=\"400\"\n          image={imgUrl}\n          title={name}\n          className={styles.poster}\n        />\n        <CardContent className={styles.overText}>\n            <p>{name}</p>\n        </CardContent>\n      </CardActionArea>\n    </Card>\n  );\n};\n\nexport default MovieCard;\n","import styles from \"./index.module.css\";\nimport { default as MuiSkeleton } from \"@material-ui/lab/Skeleton\";\nimport Card from \"@material-ui/core/Card\";\nimport CardActionArea from \"@material-ui/core/CardActionArea\";\nimport CardActions from \"@material-ui/core/CardActions\";\nimport CardContent from \"@material-ui/core/CardContent\";\n\nconst Skeleton = (): React.ReactElement => {\n  return (\n    <Card className={styles.root}>\n      <CardActionArea>\n        <MuiSkeleton\n          animation=\"wave\"\n          variant=\"rect\"\n          width=\"100%\"\n          height={400}\n        />\n        <CardContent className={styles.overText}>\n          <MuiSkeleton\n            animation=\"wave\"\n            variant=\"text\"\n            width=\"80%\"\n            height={40}\n          />\n        </CardContent>\n      </CardActionArea>\n      <CardActions className={styles.actionsContainer}>\n        <MuiSkeleton animation=\"wave\" variant=\"text\" width={100} height={40} />\n        <MuiSkeleton animation=\"wave\" variant=\"circle\" width={40} height={40} />\n      </CardActions>\n    </Card>\n  );\n};\n\nexport default Skeleton;\n","import { useState, useEffect, ReactElement } from \"react\";\nimport styles from \"./index.module.css\";\nimport service from \"utils/service\";\nimport CONSTANTS from \"utils/constants\";\nimport { useInfiniteQuery } from \"react-query\";\nimport MovieCard, { MovieCardProps } from \"components/MovieCard\";\nimport Skeleton from \"components/MovieCard/Skeleton\";\nimport { Grid } from \"@material-ui/core\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst Home = (): ReactElement => {\n  const [currentPage, setCurrentPage] = useState(0);\n  const fetchMovies = ({ pageParam = 1 }) =>\n  service.get(CONSTANTS.BASE_URL,`data/page${pageParam}.json`);\n  const {\n    data,\n    error,\n    fetchNextPage,\n    hasNextPage,\n    isSuccess,\n    isLoading,\n    refetch,\n    remove,\n  } = useInfiniteQuery(`movies`, fetchMovies, {\n    getNextPageParam: (lastPage, pages) => {      \n      return +lastPage.totalContent > currentPage * 20 ? currentPage + 1 : null;\n    },\n    onSuccess: () => {\n      setCurrentPage(currentPage + 1);\n    },\n  });\n\n  const allItems = data?.pages.flatMap((page) => page.contentItems) || [];\n    const MoviesLoader = (itemCount: number): ReactElement => {\n    return (\n      <Grid container spacing={2}>\n        {[...new Array(itemCount)].map((_, i: number) => (\n          <Grid item xs={12} md={3} sm={4} lg={12} xl={12} key={i}>\n            <Skeleton />\n          </Grid>\n        ))}\n      </Grid>\n    );\n  };\n\n  return (\n    <div className={styles.root}>\n      <Grid container justify=\"center\">\n        <Grid item xs={12} sm={10}>\n          <Grid item xs={12} className={styles.movieListContainer}>\n            {/* Loading state */}\n            {isLoading && MoviesLoader(8)}\n\n            {/* Success state */}\n            {isSuccess &&\n              (!!data ? (\n                <InfiniteScroll\n                  dataLength={\n                    allItems.length\n                  }\n                  next={fetchNextPage}\n                  hasMore={hasNextPage || false}\n                  loader={MoviesLoader(4)}\n                  style={{ overflow: \"hidden\" }}\n                >\n                  <Grid container spacing={2}>\n                    {allItems.map(({\n                          name,\n                          Poster,\n                        }: MovieCardProps) => (\n                          <Grid item xs={4} md={3} sm={4} xl={6} lg={3}>\n                            <MovieCard\n                             {...{ name, Poster }}\n                            />\n                          </Grid>\n                        )\n                      )}\n                  </Grid>\n                </InfiniteScroll>\n              ) : (\n                \"No Result\"\n              ))}\n\n            {/* Error state */}\n            {!!error && (\n              <div className={styles.errorMessageContainer}>\n                {JSON.stringify(error)}\n              </div>\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Home;\n"]}}