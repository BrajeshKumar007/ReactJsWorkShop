{"ast":null,"code":"import CONSTANTS from \"utils/constants\";\n/**\n * Generate base URL including OMDB required params\n * @param {string} url\n * @returns {string}\n */\n\nconst getBaseURL = url => {\n  return `${url}?${new URLSearchParams({\n    apikey: CONSTANTS.API_KEY\n  }).toString()}`;\n};\n/**\n * Service object exported to use across application\n */\n\n\nconst service = {\n  get: async (url, params) => {\n    try {\n      let response = await fetch(`${getBaseURL(url)}&${new URLSearchParams({ ...params\n      }).toString()}`, {\n        method: \"GET\",\n        cache: \"no-cache\",\n        // *default, no-cache, reload, force-cache, only-if-cached\n        headers: {\n          \"Content-Type\": \"application/x-www-form-urlencoded\" // application/x-www-form-urlencoded, application/json\n\n        }\n      }).then(res => res.json());\n\n      if (response.Response === \"False\") {\n        throw Error(response.Error);\n      } else {\n        return response;\n      }\n    } catch (error) {\n      throw error.message;\n    }\n  },\n  post: async (url, data) => {\n    const response = await fetch(getBaseURL(url), {\n      method: \"POST\",\n      cache: \"no-cache\",\n      // *default, no-cache, reload, force-cache, only-if-cached\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\" // application/x-www-form-urlencoded, application/json\n\n      },\n      body: JSON.stringify(data)\n    });\n    return response.json(); // parses JSON response into native JavaScript objects\n  }\n};\nexport default service;","map":{"version":3,"sources":["D:/DEMO/src/utils/service.ts"],"names":["CONSTANTS","getBaseURL","url","URLSearchParams","apikey","API_KEY","toString","service","get","params","response","fetch","method","cache","headers","then","res","json","Response","Error","error","message","post","data","body","JSON","stringify"],"mappings":"AAAA,OAAOA,SAAP,MAAsB,iBAAtB;AAEA;AACA;AACA;AACA;AACA;;AACA,MAAMC,UAAU,GAAIC,GAAD,IAAyB;AAC1C,SAAQ,GAAEA,GAAI,IAAG,IAAIC,eAAJ,CAAoB;AACnCC,IAAAA,MAAM,EAAEJ,SAAS,CAACK;AADiB,GAApB,EAEdC,QAFc,EAEH,EAFd;AAGD,CAJD;AAMA;AACA;AACA;;;AACA,MAAMC,OAAO,GAAG;AACdC,EAAAA,GAAG,EAAE,OAAON,GAAP,EAAoBO,MAApB,KAAuC;AAC1C,QAAI;AACF,UAAIC,QAAQ,GAAG,MAAMC,KAAK,CACvB,GAAEV,UAAU,CAACC,GAAD,CAAM,IAAG,IAAIC,eAAJ,CAAoB,EACxC,GAAGM;AADqC,OAApB,EAEnBH,QAFmB,EAER,EAHU,EAIxB;AACEM,QAAAA,MAAM,EAAE,KADV;AAEEC,QAAAA,KAAK,EAAE,UAFT;AAEqB;AACnBC,QAAAA,OAAO,EAAE;AACP,0BAAgB,mCADT,CAC8C;;AAD9C;AAHX,OAJwB,CAAL,CAWnBC,IAXmB,CAWbC,GAAD,IAASA,GAAG,CAACC,IAAJ,EAXK,CAArB;;AAaA,UAAIP,QAAQ,CAACQ,QAAT,KAAsB,OAA1B,EAAmC;AACjC,cAAMC,KAAK,CAACT,QAAQ,CAACS,KAAV,CAAX;AACD,OAFD,MAEO;AACL,eAAOT,QAAP;AACD;AACF,KAnBD,CAmBE,OAAOU,KAAP,EAAc;AACd,YAAMA,KAAK,CAACC,OAAZ;AACD;AACF,GAxBa;AAyBdC,EAAAA,IAAI,EAAE,OAAOpB,GAAP,EAAoBqB,IAApB,KAAqC;AACzC,UAAMb,QAAQ,GAAG,MAAMC,KAAK,CAACV,UAAU,CAACC,GAAD,CAAX,EAAkB;AAC5CU,MAAAA,MAAM,EAAE,MADoC;AAE5CC,MAAAA,KAAK,EAAE,UAFqC;AAEzB;AACnBC,MAAAA,OAAO,EAAE;AACP,wBAAgB,mCADT,CAC8C;;AAD9C,OAHmC;AAM5CU,MAAAA,IAAI,EAAEC,IAAI,CAACC,SAAL,CAAeH,IAAf;AANsC,KAAlB,CAA5B;AAQA,WAAOb,QAAQ,CAACO,IAAT,EAAP,CATyC,CASjB;AACzB;AAnCa,CAAhB;AAsCA,eAAeV,OAAf","sourcesContent":["import CONSTANTS from \"utils/constants\";\n\n/**\n * Generate base URL including OMDB required params\n * @param {string} url\n * @returns {string}\n */\nconst getBaseURL = (url: string): string => {\n  return `${url}?${new URLSearchParams({\n    apikey: CONSTANTS.API_KEY,\n  }).toString()}`;\n};\n\n/**\n * Service object exported to use across application\n */\nconst service = {\n  get: async (url: string, params: object) => {\n    try {\n      let response = await fetch(\n        `${getBaseURL(url)}&${new URLSearchParams({\n          ...params,\n        }).toString()}`,\n        {\n          method: \"GET\",\n          cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n          headers: {\n            \"Content-Type\": \"application/x-www-form-urlencoded\", // application/x-www-form-urlencoded, application/json\n          },\n        }\n      ).then((res) => res.json());\n\n      if (response.Response === \"False\") {\n        throw Error(response.Error);\n      } else {\n        return response;\n      }\n    } catch (error) {\n      throw error.message;\n    }\n  },\n  post: async (url: string, data: object) => {\n    const response = await fetch(getBaseURL(url), {\n      method: \"POST\",\n      cache: \"no-cache\", // *default, no-cache, reload, force-cache, only-if-cached\n      headers: {\n        \"Content-Type\": \"application/x-www-form-urlencoded\", // application/x-www-form-urlencoded, application/json\n      },\n      body: JSON.stringify(data),\n    });\n    return response.json(); // parses JSON response into native JavaScript objects\n  },\n};\n\nexport default service;\n"]},"metadata":{},"sourceType":"module"}