{"ast":null,"code":"var _jsxFileName = \"D:\\\\DEMO\\\\src\\\\pages\\\\Home\\\\index.tsx\",\n    _s = $RefreshSig$();\n\nimport { useState, useEffect } from \"react\";\nimport styles from \"./index.module.css\";\nimport service from \"utils/service\";\nimport CONSTANTS from \"utils/constants\";\nimport { useInfiniteQuery } from \"react-query\";\nimport MovieCard from \"components/MovieCard\";\nimport Skeleton from \"components/MovieCard/Skeleton\";\nimport { Grid } from \"@material-ui/core\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Home = () => {\n  _s();\n\n  const [currentPage, setCurrentPage] = useState(0); // eslint-disable-line react-hooks/exhaustive-deps\n\n  const fetchMovies = ({\n    pageParam = 1\n  }) => service.get(CONSTANTS.BASE_URL, `data/page${pageParam}.json`);\n\n  const {\n    data,\n    error,\n    fetchNextPage,\n    hasNextPage,\n    isSuccess,\n    isLoading,\n    refetch,\n    remove\n  } = useInfiniteQuery(`movies`, fetchMovies, {\n    getNextPageParam: (lastPage, pages) => {\n      return +lastPage.totalResults > currentPage * 10 ? currentPage + 1 : null;\n    },\n    onSuccess: () => {\n      setCurrentPage(currentPage + 1);\n    }\n  });\n\n  const MoviesLoader = itemCount => {\n    return /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      spacing: 2,\n      children: [...new Array(itemCount)].map((_, i) => /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        md: 3,\n        children: /*#__PURE__*/_jsxDEV(Skeleton, {}, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 40,\n          columnNumber: 13\n        }, this)\n      }, i, false, {\n        fileName: _jsxFileName,\n        lineNumber: 39,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 37,\n      columnNumber: 7\n    }, this);\n  };\n\n  useEffect(() => {\n    console.log(\"abcd--\", data);\n  }, [currentPage, data]);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: styles.root,\n    children: /*#__PURE__*/_jsxDEV(Grid, {\n      container: true,\n      justify: \"center\",\n      children: /*#__PURE__*/_jsxDEV(Grid, {\n        item: true,\n        xs: 12,\n        sm: 10,\n        children: /*#__PURE__*/_jsxDEV(Grid, {\n          item: true,\n          xs: 12,\n          className: styles.movieListContainer,\n          children: [isLoading && MoviesLoader(8), isSuccess && (!!data ? /*#__PURE__*/_jsxDEV(InfiniteScroll, {\n            dataLength: data.pages[currentPage].length,\n            next: fetchNextPage,\n            hasMore: hasNextPage || false,\n            loader: MoviesLoader(4),\n            style: {\n              overflow: \"hidden\"\n            },\n            children: /*#__PURE__*/_jsxDEV(Grid, {\n              container: true,\n              spacing: 2,\n              children: data.pages[currentPage].map(({\n                name,\n                Poster\n              }) => /*#__PURE__*/_jsxDEV(Grid, {\n                item: true,\n                xs: 12,\n                md: 3,\n                children: /*#__PURE__*/_jsxDEV(MovieCard, {\n                  name,\n                  Poster\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 79,\n                  columnNumber: 29\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 78,\n                columnNumber: 27\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 73,\n              columnNumber: 19\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 64,\n            columnNumber: 17\n          }, this) : \"No Result\"), !!error && /*#__PURE__*/_jsxDEV(\"div\", {\n            className: styles.errorMessageContainer,\n            children: JSON.stringify(error)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 93,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 57,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 56,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 55,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 54,\n    columnNumber: 5\n  }, this);\n};\n\n_s(Home, \"gX2yHV0vk4AXixkXUsnTTz84yiI=\", false, function () {\n  return [useInfiniteQuery];\n});\n\n_c = Home;\nexport default Home;\n\nvar _c;\n\n$RefreshReg$(_c, \"Home\");","map":{"version":3,"sources":["D:/DEMO/src/pages/Home/index.tsx"],"names":["useState","useEffect","styles","service","CONSTANTS","useInfiniteQuery","MovieCard","Skeleton","Grid","InfiniteScroll","Home","currentPage","setCurrentPage","fetchMovies","pageParam","get","BASE_URL","data","error","fetchNextPage","hasNextPage","isSuccess","isLoading","refetch","remove","getNextPageParam","lastPage","pages","totalResults","onSuccess","MoviesLoader","itemCount","Array","map","_","i","console","log","root","movieListContainer","length","overflow","name","Poster","errorMessageContainer","JSON","stringify"],"mappings":"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","sourcesContent":["import { useState, useEffect, ReactElement } from \"react\";\nimport styles from \"./index.module.css\";\nimport service from \"utils/service\";\nimport CONSTANTS from \"utils/constants\";\nimport { useInfiniteQuery } from \"react-query\";\nimport MovieCard, { MovieCardProps } from \"components/MovieCard\";\nimport Skeleton from \"components/MovieCard/Skeleton\";\nimport { Grid } from \"@material-ui/core\";\nimport InfiniteScroll from \"react-infinite-scroll-component\";\n\nconst Home = (): ReactElement => {\n  const [currentPage, setCurrentPage] = useState(0);\n// eslint-disable-line react-hooks/exhaustive-deps\n\n\n  const fetchMovies = ({ pageParam = 1 }) =>\n  service.get(CONSTANTS.BASE_URL,`data/page${pageParam}.json`);\n  const {\n    data,\n    error,\n    fetchNextPage,\n    hasNextPage,\n    isSuccess,\n    isLoading,\n    refetch,\n    remove,\n  } = useInfiniteQuery(`movies`, fetchMovies, {\n    getNextPageParam: (lastPage, pages) => {\n      return +lastPage.totalResults > currentPage * 10 ? currentPage + 1 : null;\n    },\n    onSuccess: () => {\n      setCurrentPage(currentPage + 1);\n    },\n  });\n  const MoviesLoader = (itemCount: number): ReactElement => {\n    return (\n      <Grid container spacing={2}>\n        {[...new Array(itemCount)].map((_, i: number) => (\n          <Grid item xs={12} md={3} key={i}>\n            <Skeleton />\n          </Grid>\n        ))}\n      </Grid>\n    );\n  };\n\n\n\n  useEffect(() => {\n    console.log(\"abcd--\",data);\n\n  }, [currentPage,data]); \n  return (\n    <div className={styles.root}>\n      <Grid container justify=\"center\">\n        <Grid item xs={12} sm={10}>\n          <Grid item xs={12} className={styles.movieListContainer}>\n            {/* Loading state */}\n            {isLoading && MoviesLoader(8)}\n\n            {/* Success state */}\n            {isSuccess &&\n              (!!data ? (\n                <InfiniteScroll\n                  dataLength={\n                    data.pages[currentPage].length\n                  }\n                  next={fetchNextPage}\n                  hasMore={hasNextPage || false}\n                  loader={MoviesLoader(4)}\n                  style={{ overflow: \"hidden\" }}\n                >\n                  <Grid container spacing={2}>\n                    {data.pages[currentPage].map(({\n                          name,\n                          Poster,\n                        }: MovieCardProps) => (\n                          <Grid item xs={12} md={3} >\n                            <MovieCard\n                             {...{ name, Poster }}\n                            />\n                          </Grid>\n                        )\n                      )}\n                  </Grid>\n                </InfiniteScroll>\n              ) : (\n                \"No Result\"\n              ))}\n\n            {/* Error state */}\n            {!!error && (\n              <div className={styles.errorMessageContainer}>\n                {JSON.stringify(error)}\n              </div>\n            )}\n          </Grid>\n        </Grid>\n      </Grid>\n    </div>\n  );\n};\n\nexport default Home;\n"]},"metadata":{},"sourceType":"module"}